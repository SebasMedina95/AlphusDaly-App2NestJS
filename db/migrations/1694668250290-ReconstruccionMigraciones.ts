import { MigrationInterface, QueryRunner } from "typeorm";

export class ReconstruccionMigraciones1694668250290 implements MigrationInterface {
    name = 'ReconstruccionMigraciones1694668250290'

    public async up(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`CREATE TABLE "TPR_PRODUCTOS" ("TPR_ID" SERIAL NOT NULL, "TPR_TITULO" character varying(150) NOT NULL, "TPR_DESCRIPCION" character varying(600), "TPR_PRECIO" bigint NOT NULL DEFAULT '0', "TPR_STOCK" integer NOT NULL DEFAULT '0', "TPR_SLUG" character varying(300) NOT NULL, "TPR_TAMAÑOS" text array NOT NULL DEFAULT '{}', "TPR_GENERO" character varying(15) NOT NULL, "TPR_TAGS" text array NOT NULL DEFAULT '{}', "TPR_ESTADO" character varying(1) NOT NULL DEFAULT 'S', "TPR_USUARIO_CREACION" character varying(30) NOT NULL, "TPR_FECHA_CREACION" TIMESTAMP, "TPR_USUARIO_ACTUALIZACION" character varying(30) NOT NULL, "TPR_FECHA_ACTUALIZACION" TIMESTAMP, CONSTRAINT "UQ_57cbdf21bea340d68fb7e7c620d" UNIQUE ("TPR_TITULO"), CONSTRAINT "UQ_b5854ef08bba9e51000f3340f0c" UNIQUE ("TPR_SLUG"), CONSTRAINT "PK_cd638454a9fe2a6d88a0e65c05a" PRIMARY KEY ("TPR_ID")); COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_ID" IS 'Clave primaria de tabla'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_TITULO" IS 'Título del producto'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_DESCRIPCION" IS 'Descripción del producto'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_PRECIO" IS 'Precio del producto'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_STOCK" IS 'Stock del producto'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_SLUG" IS 'Slug del producto'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_TAMAÑOS" IS 'Tamaños del producto'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_GENERO" IS 'Género del producto'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_TAGS" IS 'Tags del producto'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_ESTADO" IS 'Estado Lógico del producto'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_USUARIO_CREACION" IS 'Documento de usuario que creo'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_FECHA_CREACION" IS 'Fecha creación'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_USUARIO_ACTUALIZACION" IS 'Documento de usuario que creo'; COMMENT ON COLUMN "TPR_PRODUCTOS"."TPR_FECHA_ACTUALIZACION" IS 'Fecha creación'`);
        await queryRunner.query(`CREATE TABLE "TIP_IMAGENES_PRODUCTOS" ("ID" SERIAL NOT NULL, "TIP_URL_IMAGEN" text NOT NULL, "TIP_USUARIO_CREACION" character varying(30) NOT NULL, "TIP_FECHA_CREACION" TIMESTAMP, "TPR_PRODUCTO_ID" integer, CONSTRAINT "PK_d11ef33b0522673a747500174ad" PRIMARY KEY ("ID")); COMMENT ON COLUMN "TIP_IMAGENES_PRODUCTOS"."ID" IS 'Clave primaria de tabla'; COMMENT ON COLUMN "TIP_IMAGENES_PRODUCTOS"."TIP_URL_IMAGEN" IS 'Url de la imagen del producto.'; COMMENT ON COLUMN "TIP_IMAGENES_PRODUCTOS"."TIP_USUARIO_CREACION" IS 'Documento de usuario que creó'; COMMENT ON COLUMN "TIP_IMAGENES_PRODUCTOS"."TIP_FECHA_CREACION" IS 'Fecha creación'; COMMENT ON COLUMN "TIP_IMAGENES_PRODUCTOS"."TPR_PRODUCTO_ID" IS 'Clave primaria de tabla'`);
        await queryRunner.query(`CREATE TABLE "TPE_PERSONAS" ("TPE_ID" SERIAL NOT NULL, "TPE_TIPO_DOCUMENTO" character varying(30) NOT NULL, "TPE_DOCUMENTO" character varying(50) NOT NULL, "TPE_NOMBRES" character varying(100) NOT NULL, "TPE_APELLIDOS" character varying(100) NOT NULL, "TPE_GENERO" character varying(2) NOT NULL, "TPE_DIRECCION" character varying(150), "TPE_TELEFONO" character varying(60), "TPE_EMAIL" character varying(150) NOT NULL, "TPE_FECHA_NACIMIENTO" date, "TPE_ESTADO" character varying(1) NOT NULL DEFAULT 'S', "TPE_USUARIO_CREACION" character varying(30) NOT NULL, "TPE_FECHA_CREACION" TIMESTAMP, "TPE_USUARIO_ACTUALIZACION" character varying(30) NOT NULL, "TPE_FECHA_ACTUALIZACION" TIMESTAMP, CONSTRAINT "UQ_03991a55320717985d2c2bb3e42" UNIQUE ("TPE_DOCUMENTO"), CONSTRAINT "PK_165a05177850669a40dbd1248f5" PRIMARY KEY ("TPE_ID")); COMMENT ON COLUMN "TPE_PERSONAS"."TPE_ID" IS 'Clave primaria de tabla'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_TIPO_DOCUMENTO" IS 'Tipo Documento de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_DOCUMENTO" IS 'Documento de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_NOMBRES" IS 'Nombres de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_APELLIDOS" IS 'Apellidos de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_GENERO" IS 'Sexualidad de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_DIRECCION" IS 'Dirección Residencial de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_TELEFONO" IS 'Celular de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_EMAIL" IS 'Correo Electrónico de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_FECHA_NACIMIENTO" IS 'Fecha Nacimiento de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_ESTADO" IS 'Estado Lógico de la Persona'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_USUARIO_CREACION" IS 'Documento de usuario que creó'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_FECHA_CREACION" IS 'Fecha creación'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_USUARIO_ACTUALIZACION" IS 'Documento de usuario que actualizó'; COMMENT ON COLUMN "TPE_PERSONAS"."TPE_FECHA_ACTUALIZACION" IS 'Fecha actualización'`);
        await queryRunner.query(`CREATE TABLE "TCH_TEMATICAS_HABITACIONES" ("TTH_ID" SERIAL NOT NULL, "TTH_TEMATICA" character varying(150) NOT NULL, "TTH_DESCRIPCION" character varying(500) NOT NULL, "TTH_COMFORT_LIST" text array NOT NULL DEFAULT '{}', "TTH_PRECIO" numeric(20,2) NOT NULL DEFAULT '0', "TTH_ESTADO" character varying(1) NOT NULL DEFAULT 'S', "TTH_IMAGENREF" character varying(150), "TTH_USUARIO_CREACION" character varying(30) NOT NULL, "TTH_FECHA_CREACION" TIMESTAMP, "TTH_USUARIO_ACTUALIZACION" character varying(30) NOT NULL, "TTH_FECHA_ACTUALIZACION" TIMESTAMP, CONSTRAINT "UQ_9c91a4177aa16340097d9e74d30" UNIQUE ("TTH_TEMATICA"), CONSTRAINT "PK_3f53243fab1752514655a367101" PRIMARY KEY ("TTH_ID")); COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_ID" IS 'Clave primaria de tabla'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_TEMATICA" IS 'Temática de la Habitación'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_DESCRIPCION" IS 'Descripción de Temática de la Habitación'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_COMFORT_LIST" IS 'Comodidades de Temática de la Habitación'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_PRECIO" IS 'Precio de la temática de habitación'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_ESTADO" IS 'Estado Lógico de la temática'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_IMAGENREF" IS 'Imagen Referencial de Temática de la Habitación'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_USUARIO_CREACION" IS 'Documento de usuario que creo'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_FECHA_CREACION" IS 'Fecha creación'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_USUARIO_ACTUALIZACION" IS 'Documento de usuario que creo'; COMMENT ON COLUMN "TCH_TEMATICAS_HABITACIONES"."TTH_FECHA_ACTUALIZACION" IS 'Fecha creación'`);
        await queryRunner.query(`CREATE TABLE "THA_HABITACIONES" ("THA_ID" SERIAL NOT NULL, "THA_NUMERO" character varying(5) NOT NULL, "THA_POSICION" character varying(1) NOT NULL, "THA_NOTAS" character varying(500), "THA_CATEGORIA" character varying(50) NOT NULL, "THA_ESTADO" character varying(1) NOT NULL DEFAULT 'S', "THA_USUARIO_CREACION" character varying(30) NOT NULL, "THA_FECHA_CREACION" TIMESTAMP, "THA_USUARIO_ACTUALIZACION" character varying(30) NOT NULL, "THA_FECHA_ACTUALIZACION" TIMESTAMP, "TTH_TEMATICA_ID" integer, CONSTRAINT "UQ_d449ed7463fc24d74395fc28205" UNIQUE ("THA_NUMERO"), CONSTRAINT "PK_b5f53396ff78c7222be1ee26812" PRIMARY KEY ("THA_ID")); COMMENT ON COLUMN "THA_HABITACIONES"."THA_ID" IS 'Clave primaria de tabla'; COMMENT ON COLUMN "THA_HABITACIONES"."THA_NUMERO" IS 'Número de la habitación'; COMMENT ON COLUMN "THA_HABITACIONES"."THA_POSICION" IS 'Posición Cardinal de Habitación'; COMMENT ON COLUMN "THA_HABITACIONES"."THA_NOTAS" IS 'Notas adicionales Habitación'; COMMENT ON COLUMN "THA_HABITACIONES"."THA_CATEGORIA" IS 'Categoría genérica de la habitación'; COMMENT ON COLUMN "THA_HABITACIONES"."THA_ESTADO" IS 'Estado Lógico de la Habitación'; COMMENT ON COLUMN "THA_HABITACIONES"."THA_USUARIO_CREACION" IS 'Documento de usuario que creó'; COMMENT ON COLUMN "THA_HABITACIONES"."THA_FECHA_CREACION" IS 'Fecha creación'; COMMENT ON COLUMN "THA_HABITACIONES"."THA_USUARIO_ACTUALIZACION" IS 'Documento de usuario que actualizó'; COMMENT ON COLUMN "THA_HABITACIONES"."THA_FECHA_ACTUALIZACION" IS 'Fecha actualización'; COMMENT ON COLUMN "THA_HABITACIONES"."TTH_TEMATICA_ID" IS 'Clave primaria de tabla'`);
        await queryRunner.query(`CREATE TABLE "TIH_IMAGENES_HABITACIONES" ("TIH_ID" SERIAL NOT NULL, "TIH_URL" character varying(150) NOT NULL, "TIH_NOTAS" character varying(300), "TIH_USUARIO_CREACION" character varying(30) NOT NULL, "TIH_FECHA_CREACION" TIMESTAMP, "THA_HABITACION_ID" integer, CONSTRAINT "UQ_a597e1bf6763dc4b3f4b1302061" UNIQUE ("TIH_URL"), CONSTRAINT "PK_90fa18b0e60a01b4bea890384e1" PRIMARY KEY ("TIH_ID")); COMMENT ON COLUMN "TIH_IMAGENES_HABITACIONES"."TIH_ID" IS 'Clave primaria de tabla'; COMMENT ON COLUMN "TIH_IMAGENES_HABITACIONES"."TIH_URL" IS 'Url de la habitación'; COMMENT ON COLUMN "TIH_IMAGENES_HABITACIONES"."TIH_NOTAS" IS 'Notas adicionales Habitación'; COMMENT ON COLUMN "TIH_IMAGENES_HABITACIONES"."TIH_USUARIO_CREACION" IS 'Documento de usuario que creó'; COMMENT ON COLUMN "TIH_IMAGENES_HABITACIONES"."TIH_FECHA_CREACION" IS 'Fecha creación'; COMMENT ON COLUMN "TIH_IMAGENES_HABITACIONES"."THA_HABITACION_ID" IS 'Clave primaria de tabla'`);
        await queryRunner.query(`ALTER TABLE "TIP_IMAGENES_PRODUCTOS" ADD CONSTRAINT "FK_c2f1ec3632ca3a6fc39da462417" FOREIGN KEY ("TPR_PRODUCTO_ID") REFERENCES "TPR_PRODUCTOS"("TPR_ID") ON DELETE CASCADE ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "THA_HABITACIONES" ADD CONSTRAINT "FK_a57562e6307dec667c03e087738" FOREIGN KEY ("TTH_TEMATICA_ID") REFERENCES "TCH_TEMATICAS_HABITACIONES"("TTH_ID") ON DELETE NO ACTION ON UPDATE NO ACTION`);
        await queryRunner.query(`ALTER TABLE "TIH_IMAGENES_HABITACIONES" ADD CONSTRAINT "FK_c52c8def5bffafc460a374e6269" FOREIGN KEY ("THA_HABITACION_ID") REFERENCES "THA_HABITACIONES"("THA_ID") ON DELETE NO ACTION ON UPDATE NO ACTION`);
    }

    public async down(queryRunner: QueryRunner): Promise<void> {
        await queryRunner.query(`ALTER TABLE "TIH_IMAGENES_HABITACIONES" DROP CONSTRAINT "FK_c52c8def5bffafc460a374e6269"`);
        await queryRunner.query(`ALTER TABLE "THA_HABITACIONES" DROP CONSTRAINT "FK_a57562e6307dec667c03e087738"`);
        await queryRunner.query(`ALTER TABLE "TIP_IMAGENES_PRODUCTOS" DROP CONSTRAINT "FK_c2f1ec3632ca3a6fc39da462417"`);
        await queryRunner.query(`DROP TABLE "TIH_IMAGENES_HABITACIONES"`);
        await queryRunner.query(`DROP TABLE "THA_HABITACIONES"`);
        await queryRunner.query(`DROP TABLE "TCH_TEMATICAS_HABITACIONES"`);
        await queryRunner.query(`DROP TABLE "TPE_PERSONAS"`);
        await queryRunner.query(`DROP TABLE "TIP_IMAGENES_PRODUCTOS"`);
        await queryRunner.query(`DROP TABLE "TPR_PRODUCTOS"`);
    }

}
